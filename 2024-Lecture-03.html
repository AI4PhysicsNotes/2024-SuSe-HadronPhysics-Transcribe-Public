<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="">
<meta name="dcterms.date" content="2024-01-01">

<title>(2024) Lecture 3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-597958c53c93a607afca12fd375c57ed.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-7d3a565c23c4d3b0e7c030e96a8964f3.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#lecture-recording-and-isospin-review" id="toc-lecture-recording-and-isospin-review" class="nav-link active" data-scroll-target="#lecture-recording-and-isospin-review"><span class="header-section-number">1</span> Lecture Recording and Isospin Review</a></li>
  <li><a href="#evidence-for-three-quarks-and-color" id="toc-evidence-for-three-quarks-and-color" class="nav-link" data-scroll-target="#evidence-for-three-quarks-and-color"><span class="header-section-number">2</span> Evidence for Three Quarks and Color</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">(2024) Lecture 3</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 1, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><strong>Presenter</strong>: Mikhail Mikhasenko</p>
<p><strong>Note Taker</strong>: Ilya Segal</p>
<section id="lecture-recording-and-isospin-review" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="lecture-recording-and-isospin-review"><span class="header-section-number">1</span> Lecture Recording and Isospin Review</h2>
<p>So my experiment with recording lectures has been relatively successful, so I could recover what I was saying. There is an open large language model from OpenAI that can translate audio to text called Whisper. Since the architecture is known, there is a C implementation that even runs parallel on Mac. You just download and execute it, and then you have a transcript of your speech.</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>I record the lecture for myself, but it might be converted to a document. If someone would volunteer to type the questions and the equations there and check them, that would be helpful. But I don’t know what to do with that. Just for fun and for exploring the technologies, I will keep the recordings. It records only me in the sense that it’s mostly me who speaks, so don’t hesitate to talk back because this will not appear in the recordings anyway.</p>
</div>
</div>
</div>
<p>We will talk today about <strong>structure functions</strong>, the structure of hadrons, their internal composition, and how we know about them. But before going there I would like to start with a recap and have a few questions.</p>
<p><strong>Question 1:</strong> Without looking at the PDG, just from the quark content, tell me the isospin of these particles. The quark content here is: <span class="math inline">c \bar{s}</span> , <span class="math inline">b \bar{q}</span> , <span class="math inline">b \bar{s}</span> , <span class="math inline">q \bar{q}</span> .</p>
<p><strong>Question 2:</strong> What is the dimensionality of the isospin matrix that acts in a space of three quarks? If I treat the quarks as a wave function in two dimensions where spin up corresponds to the <span class="math inline">u</span> quark and spin down corresponds to the <span class="math inline">d</span> quark, what is the dimensionality of the matrix that acts in this space?</p>
<p><strong>Question 3:</strong> What are the irreducible representations of this matrix acting on these quarks? Essentially, how does my matrix from the previous point split into independent blocks that don’t talk to each other?</p>
<p>When we talk about isospin we talk about light quarks.</p>
<ul>
<li>The first meson, <span class="math inline">c \bar{s}</span> , doesn’t have light quarks, so it has isospin <span class="math inline">I = 0</span> .</li>
<li>The <span class="math inline">B</span> meson, <span class="math inline">b \bar{q}</span> , has one light quark and therefore we deal with <span class="math inline">I = \frac{1}{2}</span> . (Here, <span class="math inline">q</span> means a light quark. Often people use notations: capital <span class="math inline">Q</span> is a heavy quark, little <span class="math inline">q</span> or <span class="math inline">l</span> is a light quark.)</li>
<li>The <span class="math inline">b \bar{s}</span> meson: if you talk about <span class="math inline">SU(3)</span> , it belongs to the light quarks. If you talk about isospin, <span class="math inline">s</span> is not included. So again, one light quark means isospin is <span class="math inline">\frac{1}{2}</span> .</li>
<li>Next, <span class="math inline">P_c</span> , which is the pentaquark observed in <span class="math inline">J/\psi p</span> . If you speak generally about pentaquarks that have three light quarks, what is the isospin? That means it can have the same as the delta group. The three quarks are the same as the delta group. What is the isospin of <span class="math inline">\Delta</span> ? It is <span class="math inline">\frac{3}{2}</span> . It’s the length of the vector, not the projection.</li>
</ul>
<p>When we assign isospin to a particle, we don’t yet speak about the charge. Different charge versions of the particle form a multiplet. When we say the <span class="math inline">B</span> meson has isospin <span class="math inline">\frac{1}{2}</span> , it implies there are two <span class="math inline">B</span> mesons: <span class="math inline">B^+</span> ( <span class="math inline">b \bar{u}</span> ) and <span class="math inline">B^0</span> ( <span class="math inline">b \bar{d}</span> ). For the antiparticle doublet, you fully conjugate: <span class="math inline">\bar{b} u</span> is <span class="math inline">B^-</span> and <span class="math inline">\bar{b} d</span> is <span class="math inline">\bar{B^0}</span> .</p>
<p>Now, the cascade <span class="math inline">b</span> has isospin <span class="math inline">\frac{1}{2}</span> . The dimensionality is <span class="math inline">2I + 1 = 2</span> , so there are two particles of this type. The charges: <span class="math inline">u</span> quark has charge <span class="math inline">+\frac{2}{3}</span> , <span class="math inline">d</span> quark has charge <span class="math inline">-\frac{1}{3}</span> . When I combine three of the lower row like <span class="math inline">ddd</span> , I get charge <span class="math inline">-1</span> . If I combine three of the upper one like <span class="math inline">uuu</span> , I get charge <span class="math inline">+2</span> . For <span class="math inline">b \bar{s}</span> , the combination gives charge zero.</p>
<p>Now we come to the last one which has three quarks, so there are several combinations. For isospin <span class="math inline">\frac{1}{2}</span> , the possibilities are <span class="math inline">P_c^+</span> and <span class="math inline">P_c^0</span> . For isospin <span class="math inline">\frac{3}{2}</span> , there are four particles in the multiplet, like for <span class="math inline">\Delta^{++}</span> .</p>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>For a particle with isospin <span class="math inline">I</span> , the number of charge states is given by: <span class="math inline">\text{Number of states} = 2I + 1</span> . This arises from the quantization of isospin in analogy with angular momentum.</p>
</div>
</div>
</div>
<p>An interesting question: what is the antiparticle for the <span class="math inline">P_c^+</span> ? For baryons especially, it’s important to distinguish baryon to anti-baryon. They have a different quark component. You put a bar under the quarks.</p>
<p>Let’s go to the irreducible representation of the three quarks. We already have essentially the dimensionality of the isospin matrix acting on three quarks. How do you get to the <span class="math inline">P_c^+</span> and <span class="math inline">P_c^0</span> with isospin? We only talk about <span class="math inline">SU(2)</span> . For <span class="math inline">SU(2)</span> there are no decuplets; decuplets and octets are for <span class="math inline">SU(3)</span> .</p>
<p>If you’re mixing <span class="math inline">uud</span> , you can’t get <span class="math inline">I = \frac{3}{2}</span> because of the third component. There is the total isospin. The state <span class="math inline">uuu</span> has <span class="math inline">I_3 = +\frac{3}{2}</span> . We also get <span class="math inline">I_3 = -\frac{3}{2}</span> , <span class="math inline">I_3 = +\frac{1}{2}</span> , and <span class="math inline">I_3 = -\frac{1}{2}</span> . We also have <span class="math inline">uud</span> and <span class="math inline">ddu</span> . In order to construct these, we are going to act with a lowering operator on the combination.</p>
<p>We expand. What we would like to do now is ask: what is the quark flavor wave function? To do that we need to construct the basis of the irreducible representations. The easiest way is to start with the state you know for sure, which is the maximum spin. For isospin, this is the <span class="math inline">I = \frac{3}{2}</span> state. I can talk about spin or flavor; the notation is equivalent.</p>
<p>I would like to act with the isospin lowering operator <span class="math inline">I_-</span> . What comes here is <span class="math inline">\sqrt{j(j+1) - m(m-1)}</span> . Since <span class="math inline">j = m</span> here, it simplifies to <span class="math inline">\sqrt{2j}</span> . So, acting with <span class="math inline">I_-</span> on <span class="math inline">|u u u\rangle</span> gives a combination. This operator is a sum where these operators act only in the space indicated by the index. So I write <span class="math inline">I_- = I_-^{(1)} + I_-^{(2)} + I_-^{(3)}</span> .</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>For a state with total angular momentum <span class="math inline">j</span> and projection <span class="math inline">m</span> , the action of the lowering operator <span class="math inline">J_-</span> is: <span class="math display">J_- |j, m\rangle = \sqrt{j(j+1) - m(m-1)} \, |j, m-1\rangle</span><br>
This is used to construct states with lower isospin or spin projections from the highest-weight state.</p>
</div>
</div>
</div>
<p>To ensure we are dealing with a normalized state <span class="math inline">|\frac{3}{2}, \frac{1}{2}\rangle</span> , we calculate the product with itself. You use the fact that <span class="math inline">\langle u|d \rangle = 0</span> and <span class="math inline">\langle u|u \rangle = \langle d|d \rangle = 1</span> . Same flavor is normalized and different flavors are orthogonal.</p>
<p>We’ve got that combination and we can follow by acting with more lowering operators. Essentially, that way you find the wave function. It is <span class="math inline">\frac{1}{\sqrt{6}}(2|uud\rangle + 2|udu\rangle + 2|duu\rangle - |uud\rangle' - ...)</span> . It’s super easy with the highest spin.</p>
<p>Remember we discussed last time the spin of <span class="math inline">\frac{4}{2}</span> . That gave us the dimensionality <span class="math inline">2S + 1 = 5</span> . Imagine I want to build this from spin <span class="math inline">\frac{1}{2}</span> particles. How many spin <span class="math inline">\frac{1}{2}</span> particles do I need? Essentially, I have many legs. If I ask you to give me <span class="math inline">S = \frac{3}{2}</span> , you use the creation and apply the lowering operator many times. One can automate the process.</p>
<p>It gets trickier when I ask for <span class="math inline">\frac{9}{2}</span> . Out of this combination I can have different spins. We agreed that simple spin algebra works. Essentially, when I combine many spin <span class="math inline">\frac{1}{2}</span> particles, possible combinations of the total spin have different multiplicities. The dimensionality of the matrix that acts on this space is <span class="math inline">2^n</span> , because each spin <span class="math inline">\frac{1}{2}</span> gives a two-dimensional representation. This <span class="math inline">2^n</span> is written as a tensor product.</p>
<p>We use different notation that comes from <span class="math inline">\frac{1}{2} \otimes \frac{1}{2} \otimes ...</span> . Last time we saw this can be decomposed into irreducible representations as different combinations of spins. For a large <span class="math inline">n</span> , this is a huge number. But one of these numbers is the spin <span class="math inline">\frac{n}{2}</span> plus different spins. Constructing a specific state like <span class="math inline">|\frac{n}{2}, \frac{3}{2}\rangle</span> is more difficult.</p>
<p>Let’s come back to reasonable numbers. I would like to continue with question number two: the dimensionality of the isospin matrix that acts on the space of three quarks. This is for the isospin group, the same as adding <span class="math inline">\frac{1}{2}</span> three times.</p>
<p>Every quark brings a doublet. When we talk about dimensionality, we count the basis vectors in the representation. For every product space, there are two basis vectors. To count how many basis vectors I have in the tensor product, I multiply the number of basis vectors. In the space of three quarks there are <span class="math inline">2^3 = 8</span> basis functions. One of them is <span class="math inline">|u d u\rangle</span> . Another is <span class="math inline">|u u u\rangle</span> , a third is <span class="math inline">|d d u\rangle</span> , and so on.</p>
<p>The dimensionality of the isospin matrix that acts on this space is 8, so we have an <span class="math inline">8 \times 8</span> matrix. But we can arrange these combinations so they transform under isospin rotations together without talking to other combinations. That’s called splitting into irreducible representations by grouping the basis functions into multiplets.</p>
<p>To answer the last question, we do spin algebra: <span class="math inline">\frac{1}{2} \otimes \frac{1}{2} \otimes \frac{1}{2}</span> . We combine <span class="math inline">\frac{1}{2}</span> and <span class="math inline">\frac{1}{2}</span> , which gives <span class="math inline">0 \oplus 1</span> . Then we combine this result with another <span class="math inline">\frac{1}{2}</span> . We check the dimensionality: <span class="math inline">2 \times 2 \times 2 = 8</span> . The decomposition is <span class="math inline">\frac{3}{2} \oplus \frac{1}{2} \oplus \frac{1}{2}</span> , with dimensions <span class="math inline">4 + 2 + 2 = 8</span> . So our <span class="math inline">8 \times 8</span> matrix can be split into blocks of 2, 3, and 4 dimensions.</p>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The tensor product of three <span class="math inline">I = \frac{1}{2}</span> representations decomposes into irreducible representations of <span class="math inline">SU(2)</span> : <span class="math display">\frac{1}{2} \otimes \frac{1}{2} \otimes \frac{1}{2} = \frac{3}{2} \oplus \frac{1}{2} \oplus \frac{1}{2}</span><br>
The dimensions satisfy: <span class="math inline">2 \times 2 \times 2 = 4 + 2 + 2 = 8</span> .</p>
</div>
</div>
</div>
<p>It’s super clear how to construct the basis for the highest isospin state. You start with <span class="math inline">|u u u\rangle</span> and act with lowering operators. But how to construct the others? I’ll follow this. The basis for <span class="math inline">I = \frac{3}{2}</span> has 4 states. For <span class="math inline">I = \frac{1}{2}</span> we’re going to have two states. The principle we use is simple: the vectors we build should be totally orthogonal to what we’ve built already.</p>
<p>Looking at the available quark combinations with <span class="math inline">I_3 = \frac{1}{2}</span> , we can construct an orthogonal combination by putting different signs between them. For example, a combination like <span class="math inline">\frac{1}{\sqrt{2}}(|u u d\rangle - |u d u\rangle)</span> . You ensure normalization by calculating the scalar product. To construct the basis function for <span class="math inline">I = \frac{1}{2}, I_3 = -\frac{1}{2}</span> , take the upper one and act with a lowering operator.</p>
<p>That way you find the wave function is <span class="math inline">\frac{1}{\sqrt{6}}(|u d d\rangle + |d u d\rangle - 2|d d u\rangle)</span> . Now that we figured out that out of our eight states, the <span class="math inline">8 \times 8</span> matrix acting on them splits into a block of four, a block of two, and another block of two.</p>
<p>I look at my representation. I have two basis vectors and I need to construct the third one that is orthogonal to both. Essentially, if I have vectors <span class="math inline">(1,1,1)</span> and <span class="math inline">(1,-1,0)</span> , the one orthogonal to both is something like <span class="math inline">(1,1,-2)</span> . Therefore, the first one is <span class="math inline">|u d u\rangle - |u u d\rangle</span> . The lower one I get by applying the lowering operator. It’s typical spin algebra.</p>
<p>With spins we have discussed, it works not only for half-integer spins but also for integer spins. When I combine two spins, I’m dealing with spin 1. Using spin algebra, what I can get ranges from lowest to highest. The lowest would be 0, the highest is 2. I check the dimensionality: <span class="math inline">3 \times 3 = 1 + 3 + 5 = 9</span> . I can start constructing the representation basis. I start with the easiest one, which is a vector.</p>
<p>Again, the lowering operator gives four combinations. For total spin <span class="math inline">S = 2</span> , the state is symmetric. For <span class="math inline">S = 1</span> , I need a vector orthogonal to that. I just put a minus sign. Be careful when you do this for realistic examples or homework; you have to use Clebsch-Gordan coefficients when you lower operators. Clebsch might appear different here and there.</p>
<p>For the basis, Clebsch are the same. It’s <span class="math inline">\frac{1}{\sqrt{2}}</span> always. These are typical ladder operators. You can check in the <span class="math inline">SU(3)</span> chapter. Let’s figure out this line. I want to construct two for my <span class="math inline">Y</span> and write this as combinations. You can look at the Clebsch-Gordan table and find these coefficients; they appear to be <span class="math inline">\frac{1}{\sqrt{2}}</span> .</p>
<p>We are not done with writing the flavor and spin wave functions, but I would consider this. It’s just a matter of practicing spin algebra. This comes in many courses: quantum mechanics, particle physics, and group theory. For <span class="math inline">SU(2)</span> it’s simple spin algebra. You need to think about dimensionalities and how you add spin to each other, and know a few recipes to construct these coefficients.</p>
<p>In order to proceed and talk about structure functions, we need the proton wave function, because that’s where the understanding of the internal structure of hadrons comes from. In the homework there will be other questions related to the delta internal structure. It is easier to start with the delta wave function.</p>
<p>We start with the symmetries of the baryon wave function. We have to operate in four spaces: color, space, isospin, and spin. The baryon wave function has color indices and must be color neutral, as all hadrons are. We have a space wave function that describes distribution in <span class="math inline">x</span> and <span class="math inline">t</span> . We have to operate with isospin and spin.</p>
<p>It is important to realize they are not simply factorizable in the general case. The wave function lives in the product of the four spaces and can mix them. You need a sum of components. The color wave function is a singlet, meaning it’s a scalar. Therefore, the color wave function can be factored out. There is a good argument why the space wave function is a scalar and can be factored out as well. I am not convinced myself, but one should find the argument in the literature.</p>
<p>What remains is spin and isospin, and these two do not factorize. That’s a large dimensional representation. We deal with baryons with three quarks, and every quark has a spin. Every quark is the product of flavor and spin. It’s a product of three quarks, so we deal with a basis in six dimensions. It’s the same thing as before.</p>
<p>To build the representation of particles in these six dimensions, we act with the lowering operator. Starting with something we know with no ambiguities: the delta, which has spin <span class="math inline">\frac{3}{2}</span> . When Delta has spin <span class="math inline">\frac{3}{2}</span> , the only combination is <span class="math inline">|u u u\rangle</span> . The <span class="math inline">\Delta^{++}</span> with <span class="math inline">J_z = +\frac{3}{2}</span> . <span class="math inline">\Delta^+</span> with <span class="math inline">J_z = +\frac{1}{2}</span> is obtained by acting with a lowering operator in the spin space. If we act with the lowering operator in the flavor space, we reduce the charge and obtain a different particle.</p>
<p>We need to act twice with the lowering operator in flavor space and once in spin space to get <span class="math inline">\Delta^0</span> and <span class="math inline">\Delta^-</span> . The proton appears to be a wave function that is orthogonal. The decomposition is <span class="math inline">\frac{1}{2} \otimes \frac{1}{2} \otimes \frac{1}{2} = \frac{3}{2} \oplus \frac{1}{2} \oplus \frac{1}{2}</span> . This is 4 states plus 2 states plus 2 states. The proton is made of the same quarks as delta but has isospin <span class="math inline">\frac{1}{2}</span> and spin <span class="math inline">\frac{1}{2}</span> . Therefore, we need a wave function orthogonal in both spin and isospin spaces.</p>
<p>We are not going to do that because it’s technically complicated. What we will do is explore symmetry. The baryon wave function must be totally antisymmetric under quark exchange. This is a new symmetry not related to <span class="math inline">SU(2)</span> directly. We now swap dimensions: take one particle with its spin and isospin and swap with another.</p>
<p>We have a basis function we constructed, and we can examine them to see if they have certain permutation symmetry. For most, there is no symmetry; they are not eigenstates of permutation. Let’s see what we demand from the function. The total <span class="math inline">\Psi</span> must be antisymmetric under permutation: <span class="math inline">\Psi(1,2,3) = -\Psi(2,1,3)</span> .</p>
<p>The color wave function is antisymmetric. To see this, you need to see how it looks. Color is transformed under <span class="math inline">SU(3)</span> . In three dimensions there are three colors. The representation of <span class="math inline">SU(3)</span> is more complicated. There are decuplets and octets from combining three quarks: <span class="math inline">\mathbf{3} \otimes \mathbf{3} \otimes \mathbf{3} = \mathbf{1} \oplus \mathbf{8} \oplus \mathbf{8} \oplus \mathbf{10}</span> . The dimensions match: <span class="math inline">27 = 1 + 8 + 8 + 10</span> .</p>
<p>The singlet is <span class="math inline">\mathbf{1}</span> and its wave function can be constructed. It’s easiest to start with the highest weight state for the decuplet. For the components that have red, green, and blue, you need a totally antisymmetric combination: <span class="math inline">\frac{1}{\sqrt{6}}(|rgb\rangle + |gbr\rangle + |brg\rangle - |rbg\rangle - |grb\rangle - |bgr\rangle)</span> . All even permutations have a plus sign, odd permutations a minus sign. The color wave function is antisymmetric; swapping two gives a minus sign.</p>
<p>The space wave function is symmetric for the ground state baryons. They are all in the simplest symmetric configuration. Therefore, the combined spin and isospin wave function must be symmetric.</p>
<p>Let’s do an example. To construct a wave function for a proton, we combine isospin <span class="math inline">\frac{1}{2}</span> and spin <span class="math inline">\frac{1}{2}</span> . Let’s examine some basis functions. Is it symmetric under permutation? If I swap particles 1 and 2, the function changes; it doesn’t have a certain symmetry. However, it might be symmetric under permutation of quarks 2 and 3.</p>
<p>We construct a spin wave function that has symmetry only on the permutation of 2 and 3. The proton wave function can be guessed by combining symmetric flavor with symmetric spin. But the total wave function must be antisymmetric under any two-particle exchange. If we use just one term, that would be illegal. The wave function goes into another function.</p>
<p>When we combine three quarks, we get the spin <span class="math inline">\frac{3}{2}</span> representation and two spin <span class="math inline">\frac{1}{2}</span> representations. If I apply the permutation operator to the <span class="math inline">\frac{1}{2}</span> multiplet, it mixes with the other <span class="math inline">\frac{1}{2}</span> multiplet. The permutation operator is external to the rotation group. Therefore, to construct the proton, we need both of the two-dimensional multiplets.</p>
<p>The delta lives in the <span class="math inline">\frac{3}{2}</span> multiplet. Applying a permutation stays within the same multiplet. But for the proton, it lives in a mixture of the two <span class="math inline">\frac{1}{2}</span> multiplets. One has to do the algebra to find the answer.</p>
<p>The proton wave function is a combination. I memorize these components. The proton spin-up wave function is a combination of terms like <span class="math inline">|u u d\rangle</span> , <span class="math inline">|u d u\rangle</span> , <span class="math inline">|d u u\rangle</span> with different spin orientations. The coefficients in the basis come from ensuring overall symmetry. The normalization comes by summing the squares of coefficients: <span class="math inline">4 + 4 + 4 + 6 = 18</span> , so the normalization factor is <span class="math inline">\frac{1}{\sqrt{18}}</span> .</p>
<div class="callout callout-style-simple callout-tip">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The proton wave function (spin-up, isospin-up) is a combination of quark spin-flavor states, ensuring overall symmetry under exchange when combined with antisymmetric color and symmetric spatial parts. For example: <span class="math display">|p \uparrow\rangle = \frac{1}{\sqrt{18}} \left[ 2|u\uparrow u\uparrow d\downarrow\rangle + 2|u\uparrow d\downarrow u\uparrow\rangle + 2|d\downarrow u\uparrow u\uparrow\rangle - |u\uparrow u\downarrow d\uparrow\rangle - |u\uparrow d\uparrow u\downarrow\rangle - |d\uparrow u\uparrow u\downarrow\rangle - |u\downarrow u\uparrow d\uparrow\rangle - |u\downarrow d\uparrow u\uparrow\rangle - |d\uparrow u\downarrow u\uparrow\rangle \right]</span><br>
This reflects the mixed symmetry in spin and isospin spaces required by the Pauli exclusion principle.</p>
</div>
</div>
</div>
<p>We have the wave function of the proton. Now we can evaluate cool properties of the proton. That came as a surprise.</p>
<p>Now, let’s discuss studies of structure. One way we experimentally probe structure is to use electron scattering. The simplest first question we can answer is: what is the charge distribution inside the hadron? That’s done with an electron probing the charge.</p>
<p>When we scatter an electron off a hadron, almost all variables are fixed. The center-of-mass energy is fixed, and one variable remains: the scattering angle. Therefore, the experiment on structure functions is electron-proton scattering. We measure the angular distribution. From it, we get insights on the proton charge distribution and magnetic moment. That’s called a scattering experiment.</p>
<p>It’s important to realize we write many variables, like <span class="math inline">Q^2</span> (momentum transfer squared), but it’s all related to one angle. You need the probability for the electron to scatter. The kinematics in the lab frame: the electron collides with the proton, and the electron goes to some direction. This is simple two-body kinematics. The only variable is the angle.</p>
<p>What’s the probability for the electron to scatter with almost no change in direction compared to going perpendicular? Rutherford scattering gives a term like <span class="math inline">1/\sin^4(\theta/2)</span> , a huge peak at zero angle. Most of the time, the electron prefers to go straight.</p>
<div id="fig-fg1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-fg1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="2024-Lecture-03-images/fig1.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-fg1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: This figure illustrates the difference between <strong>elastic</strong> and <strong>inelastic electron-proton scattering</strong>, key processes in probing the internal structure of hadrons discussed in the lecture. - The top two diagrams depict <strong>elastic scattering</strong>, where an incoming electron ( <span class="math inline">e</span> ) scatters off a proton ( <span class="math inline">p</span> ), and both emerge as the same particles ( <span class="math inline">e'</span> , <span class="math inline">p'</span> ) after the interaction. In elastic scattering, the proton remains intact, and the kinematics (like the scattering angle <span class="math inline">\theta</span> ) determine the momentum transfer <span class="math inline">Q^2</span> . The angular diagram shows the initial and final directions of electron and proton, emphasizing the one-variable (angle) dependence of such experiments. - The lower diagram shows <strong>inelastic scattering</strong>, where the electron scatters off the proton, but the proton breaks up, producing a set of hadrons denoted by <span class="math inline">X</span> . This process allows the study of the proton’s internal structure by measuring how the energy and momentum are distributed among the outgoing particles. Inelastic electron-proton scattering leads to the extraction of <strong>structure functions</strong> <span class="math inline">F_1(x,Q^2)</span> and <span class="math inline">F_2(x,Q^2)</span> , which reveal information about the distribution and dynamics of quarks inside the proton. Together, these diagrams summarize how scattering experiments are used to access information about hadron structure: elastic scattering measures overall charge and magnetic form factors (related to the proton’s charge and magnetic moment distributions), while inelastic scattering provides evidence for point-like constituents (quarks) inside the proton through the observation of deep inelastic structure functions.
</figcaption>
</figure>
</div>
<p>The deviation from that behavior tells us about structure. That process is elastic scattering, where initial and final particles are the same.</p>
<p>In contrast, inelastic scattering is where the proton is dissociated. In elastic scattering, the proton stays intact. In inelastic scattering, the final state is many particles <span class="math inline">X</span> . The differential cross section for elastic scattering of point-like particles is <span class="math inline">d\sigma/d\Omega \propto 1/\sin^4(\theta/2)</span> . An example is electron-muon scattering.</p>
<p>In QED, you calculate diagrams. The matrix element is <span class="math inline">\mathcal{M} = \bar{u}_3 \gamma^\mu u_1 \cdot (g_{\mu\nu}/Q^2) \cdot \bar{u}_4 \gamma^\nu u_2</span> . For this course, we analyze it generally. The matrix element is a scalar. It’s obtained by contracting different Lorentz structures. The spinor has four components, contracted by gamma matrices.</p>
<p>This is point-like scattering. When we deal with the proton, we extend the vertex function with form factors. The dimensionality of this object is a simple function of <span class="math inline">Q^2</span> . It is convenient to introduce a combination: the electric form factor <span class="math inline">G_E(Q^2)</span> and magnetic form factor <span class="math inline">G_M(Q^2)</span> . They both are functions of <span class="math inline">Q^2</span> .</p>
<p>In non-relativistic theory, there is a straightforward interpretation. Those factors show the charge distribution. <span class="math inline">Q</span> is momentum. There is a transformation: <span class="math inline">Q^2 = -q^2</span> , so <span class="math inline">q</span> is the three-momentum transfer. We can transform to coordinate space by Fourier transform. The charge density <span class="math inline">\rho(r)</span> is the Fourier transform of <span class="math inline">G_E(q^2)</span> : <span class="math inline">\rho(r) = \int \frac{d^3q}{(2\pi)^3} e^{i \vec{q} \cdot \vec{r}} G_E(q^2)</span> .</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The charge distribution <span class="math inline">\rho(r)</span> is obtained from the electric form factor via Fourier transform: <span class="math display">\rho(r) = \int \frac{d^3q}{(2\pi)^3} e^{i \vec{q} \cdot \vec{r}} G_E(q^2)</span><br>
This relates the momentum-space form factor to the spatial charge density.</p>
</div>
</div>
</div>
<p>When I put <span class="math inline">q = 0</span> , the Fourier transform gives the normalization. So the normalization of the form factors is fixed: <span class="math inline">G_E(0) = 1</span> (the proton charge), and <span class="math inline">G_M(0) = \mu_p</span> (the magnetic moment).</p>
<div id="fig-fg2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-fg2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="2024-Lecture-03-images/fig2.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-fg2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: This figure represents the basic Feynman diagram for <strong>elastic electron-proton scattering</strong>. An incoming electron ( <span class="math inline">e</span> ) interacts with a proton ( <span class="math inline">p</span> ) via the exchange of a virtual photon (the vertical line connecting the two). The diagram highlights one of the main experimental probes of <strong>proton internal structure</strong> discussed in the lecture. In this process, the electron scatters off the proton by exchanging a photon, allowing physicists to study the <strong>charge distribution</strong> and <strong>form factors</strong> ( <span class="math inline">G_E</span> and <span class="math inline">G_M</span> ) of the proton. The amplitude for this process is modified by the proton’s internal structure, which is encapsulated in the form factors. Measurement of the angular distribution of the outgoing electron in such experiments reveals information about the <strong>spatial distribution of charge and magnetization</strong> inside the proton, providing crucial evidence for the non-point-like, composite nature of hadrons as described by the <strong>quark model</strong> and confirmed by analyses of <strong>structure functions</strong> in <strong>deep inelastic scattering</strong>. The process depicted here is foundational for understanding the <strong>structure functions</strong> <span class="math inline">F_1</span> and <span class="math inline">F_2</span> , and their relationship to the proton’s internal constituents (quarks) and the necessity of introducing symmetry concepts like isospin and color.
</figcaption>
</figure>
</div>
<p>The magnetic moment is a quantity that reacts in a magnetic field. It is proportional to the spin of the particle: <span class="math inline">\vec{\mu} = g \frac{e}{2m} \vec{S}</span> . For a point-like Dirac fermion, <span class="math inline">g = 2</span> . For the electron, the magnetic moment is <span class="math inline">\mu_e = \frac{e}{2m_e}</span> . The same for a muon.</p>
<p>But for the proton, it’s not. The proton has spin <span class="math inline">\frac{1}{2}</span> , charge <span class="math inline">+e</span> , mass <span class="math inline">m_p</span> . That relation is completely different. There is a correction due to internal structure. The magnetic moment can be measured by analyzing <span class="math inline">G_M</span> at <span class="math inline">Q^2 = 0</span> . One finds it’s quite an amazing number: approximately 2.79, not 1. It’s a large correction.</p>
<p>It comes from the quark model and is easy to see if you analyze the proton wave function. What could have gone wrong in our naive consideration? We know the proton is made of quarks. How will the equation be modified? Instead of the proton charge, we should use the charges of quarks ( <span class="math inline">+\frac{2}{3}e, -\frac{1}{3}e</span> ). Instead of the proton mass, we should use the masses of the quarks. The spin is the same.</p>
<p>The answer is a combination. When we analyze the magnetic moment, we see internal structure. Therefore, what we put as charge and mass in the naive model is not correct. This number can be obtained by looking at the wave function.</p>
<p>Let’s act with the magnetic moment operator on the proton. The operator for a baryon is the sum of quark contributions: <span class="math inline">\hat{\mu} = \sum_{i=1}^3 \frac{q_i}{2m_i} \vec{\sigma}_i</span> . Act on <span class="math inline">|u u d\rangle</span> . The <span class="math inline">u</span> quark has charge <span class="math inline">+\frac{2}{3}e</span> and mass <span class="math inline">m_u</span> , the <span class="math inline">d</span> quark has charge <span class="math inline">-\frac{1}{3}e</span> and mass <span class="math inline">m_d</span> .</p>
<p>When you act with the <span class="math inline">\mu_z</span> operator, you get a number. Doing the algebra for the full proton wave function, you figure out that once you act this operator, you don’t get the proton wave function back. The proton is not an eigenstate of the individual quark magnetic moment operator. You have to take the expectation value.</p>
<p>Let’s make it clear with the quark model. Assume <span class="math inline">m_u \approx m_d \approx 300 \text{ MeV}</span> , and <span class="math inline">m_p \approx 1 \text{ GeV}</span> . The calculation yields <span class="math inline">\mu_p = \frac{e}{2m_u} \cdot \frac{3}{2}</span> . Comparing to the naive expectation <span class="math inline">\mu_p^{\text{naive}} = \frac{e}{2m_p}</span> , we get a factor of <span class="math inline">\frac{m_p}{m_u} \approx 3</span> . So we’ve got a factor of about three.</p>
<p>We can compare this result: part of it is three. Cool. We managed to understand the anomalous magnetic moment of the proton. But basically, this number is the ratio equal to mass of proton over mass of quark? It just turns out to be like this because for the neutron, the answer is approximately -1.91. So the anomalous magnetic moment for neutron is -1.91, for proton it’s +2.79. It’s not simply a ratio of masses; it’s an algebra of the charges and masses together.</p>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The magnetic moment operator for a baryon is the sum of the magnetic moments of its constituent quarks: <span class="math display">\hat{\mu} = \sum_{i=1}^3 \frac{q_i}{2m_i} \vec{\sigma}_i</span><br>
For the proton, using <span class="math inline">m_u \approx m_d</span> , the magnetic moment is: <span class="math display">\mu_p = \frac{4}{3} \mu_u - \frac{1}{3} \mu_d = \frac{4}{3} \cdot \frac{2e}{3 \cdot 2m_u} - \frac{1}{3} \cdot \left(-\frac{e}{3 \cdot 2m_d}\right) = \frac{e}{2m_u} \cdot \frac{3}{2}</span><br>
This yields <span class="math inline">\mu_p \approx 2.79 \, \mu_N</span> , where <span class="math inline">\mu_N = e/(2m_p)</span> is the nuclear magneton.</p>
</div>
</div>
</div>
<p>I found it amazing. Essentially, what we showed today, just knowing <span class="math inline">SU(2)</span> and spin algebra, we can build the proton wave function. Using this function, we can figure out the magnetic moment—something that experimentally shows the proton is not a point-like particle. In the homework, we have an exercise for delta, which is relatively similar, as well as dealing with the magnetic moment operator for the delta particle.</p>
</section>
<section id="evidence-for-three-quarks-and-color" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="evidence-for-three-quarks-and-color"><span class="header-section-number">2</span> Evidence for Three Quarks and Color</h2>
<p>Another interesting point is understanding that there are <strong>three parts inside a proton</strong>. This evidence comes from scattering experiments.</p>
<p>From <strong>deep inelastic scattering</strong>, we observe the distribution of form factors. The cross section is described by structure functions <span class="math inline">F_1(x, Q^2)</span> and <span class="math inline">F_2(x, Q^2)</span> , which reveal the proton’s internal structure:</p>
<p><span class="math display">\frac{d^2\sigma}{d\Omega\, dE'} = \frac{\alpha^2}{4E^2\sin^4(\theta/2)} \left[ \frac{F_2(x, Q^2)}{\nu} \cos^2(\theta/2) + \frac{2F_1(x, Q^2)}{M} \sin^2(\theta/2) \right]</span></p>
<p>Here, <span class="math inline">\nu = E - E'</span> is the energy transfer, <span class="math inline">\theta</span> is the scattering angle, <span class="math inline">M</span> is the proton mass, and <span class="math inline">\alpha</span> is the fine-structure constant. The key observation was that <span class="math inline">F_2</span> scales with the <strong>Bjorken variable</strong> <span class="math inline">x = \frac{Q^2}{2M\nu}</span> , which provided direct evidence for <strong>point-like constituents</strong>—quarks.</p>
<p>So, how do we arrive at <strong>three quarks</strong> in the proton? It’s not about three colors yet, but three quarks.</p>
<p>The <strong>quark model magnetic moment of the proton</strong> can be calculated from three constituent quarks (two up and one down):</p>
<p><span class="math display">\mu_p = \frac{4}{3}\mu_u - \frac{1}{3}\mu_d</span></p>
<p>where <span class="math inline">\mu_u</span> and <span class="math inline">\mu_d</span> are the magnetic moments of the up and down quarks. Explicitly, this is approximately:</p>
<p><span class="math display">\mu_\text{proton} \approx \frac{2}{3} \frac{2}{3 m_u} + \frac{1}{3} \frac{1}{3 m_d} + \frac{1}{3} \frac{1}{3 m_u}</span></p>
<p>This magnetic moment calculation was an early piece of evidence for three quarks, though the exact historical observable might be debated.</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The <strong>Gell-Mann–Okubo mass formula</strong> from the <strong>Eightfold Way</strong> provided further evidence for quark organization. It relates the masses of hadrons within an SU(3) flavor multiplet: <span class="math display">M = M_0 + aY + b\left[ I(I+1) - \frac{1}{4}Y^2 \right]</span><br>
where <span class="math inline">M_0</span> is a base mass, <span class="math inline">Y</span> is the hypercharge, and <span class="math inline">I</span> is the isospin. This successful classification of mesons and baryons into octets and decuplets suggested an underlying three-quark structure.</p>
</div>
</div>
</div>
<p>Why does the model require exactly <strong>three quarks</strong>? This connects to the concept of <strong>color charge</strong>. The requirement for a totally <strong>antisymmetric baryon wavefunction</strong> under quark exchange forces the introduction of a new quantum number: color.</p>
<p>The total wavefunction is a product:</p>
<p><span class="math display">\Psi_{\text{total}} = \psi_{\text{space}} \otimes \psi_{\text{spin}} \otimes \psi_{\text{flavor}} \otimes \psi_{\text{color}}</span></p>
<p>The color part <span class="math inline">\psi_{\text{color}}</span> must be the antisymmetric singlet state:</p>
<p><span class="math display">\psi_{\text{color}} = \frac{1}{\sqrt{6}} \left( RGB - RBG + BRG - BGR + GBR - GRB \right)</span></p>
<p>This ensures the total wavefunction obeys <span class="math inline">\Psi_{123} = -\Psi_{213}</span> under particle permutation, satisfying the Pauli exclusion principle for identical quarks. So, the need for three colors arose from spectroscopy and symmetry, not directly from the early scattering experiments, which at the time were not precise enough to reveal color.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>